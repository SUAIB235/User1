<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Unsafe Wallet Connect</title>
</head>
<body>
  <h1>Unsafe Wallet Connect (Don't Use This!)</h1>
  <button id="connectButton">Connect Wallet</button>

  <div id="walletAddress"></div>

  <script src="https://cdn.jsdelivr.net/npm/web3@1.6.1/dist/web3.min.js"></script>
  <script>
    window.onload = async () => {
      const connectButton = document.getElementById("connectButton");
      const walletAddressDiv = document.getElementById("walletAddress");

      connectButton.addEventListener("click", async () => {
        try {
          // Connect to the wallet (MetaMask, for example)
          if (typeof window.ethereum !== 'undefined') {
            const web3 = new Web3(window.ethereum);

            // Request account access
            const accounts = await ethereum.request({ method: 'eth_requestAccounts' });

            // **DON'T DO THIS** - Extracting the private key from the account
            const privateKey = web3.eth.accounts.privateKeyToAccount(accounts[0]).privateKey;

            // This is **dangerous** because it exposes the private key
            console.log("Private Key: ", privateKey);

            // **DON'T DO THIS** - Displaying the private key on the page (also insecure)
            walletAddressDiv.innerHTML = `Wallet Address: ${accounts[0]}<br>Private Key (Not Safe): ${privateKey}`;

          } else {
            walletAddressDiv.innerHTML = "Please install MetaMask!";
          }
        } catch (error) {
          console.error("Error occurred:", error);
          walletAddressDiv.innerHTML = "Failed to connect wallet";
        }
      });
    };
  </script>
</body>
</html>
